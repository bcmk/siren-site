<!DOCTYPE html>
<html lang="en">

<head>
    {{ template "head" . }}
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@siren_tlg">
    <meta name="twitter:creator" content="@siren_tlg">
    <meta name="twitter:title" content="SIREN">
    <meta name="twitter:description" content="Bot Posts in Your Channel or Group">
    <meta name="twitter:image" content="https://siren.chat/icons/siren-1024x1024.png">
    <meta name="image" property="og:image" content="https://siren.chat/icons/siren-1024x1024.png">
    <title>SIREN â€” Bot Posts in Your Channel or Group</title>
</head>

<body>
{{ template "header" }}
<div class="container">
    <main>
        <h1 class="mt-4">Bot Posts in Your Channel or Group</h1>
        <p>
            You can automatically notify your users whenever you are online in your Telegram channel or group!
        </p>

        <h4>I have a...</h4>
        <div class="mb-3 platform-selector" id="type-selector">
            <button class="btn btn-outline-dark platform-btn me-2 mb-2 active" data-type="channel">Channel</button>
            <button class="btn btn-outline-dark platform-btn me-2 mb-2" data-type="group">Group</button>
        </div>

        <h4>My streaming platform</h4>
        <div class="mb-3 platform-selector" id="platform-selector">
            <button class="btn btn-outline-dark platform-btn me-2 mb-2 active" data-platform="Twitch">Twitch</button>
            <button class="btn btn-outline-dark platform-btn me-2 mb-2" data-platform="Chaturbate">Chaturbate</button>
            <button class="btn btn-outline-dark platform-btn me-2 mb-2" data-platform="Stripchat">Stripchat</button>
            <button class="btn btn-outline-dark platform-btn me-2 mb-2" data-platform="BongaCams">BongaCams</button>
            <button class="btn btn-outline-dark platform-btn me-2 mb-2" data-platform="LiveJasmin">LiveJasmin</button>
            <button class="btn btn-outline-dark platform-btn me-2 mb-2" data-platform="CamSoda">CamSoda</button>
            <button class="btn btn-outline-dark platform-btn me-2 mb-2" data-platform="Flirt4Free">Flirt4Free</button>
            <button class="btn btn-outline-dark platform-btn me-2 mb-2" data-platform="Streamate">Streamate</button>
        </div>

        <h4>My username</h4>
        <div class="mb-3 col-sm-4">
            <input type="text" class="form-control" id="username-input" placeholder="Enter your username">
        </div>
        <div id="bongacams-warning" class="p-3 mb-3 bg-warning" style="display:none;">
            Please don't use your display name or real name. Use the username you log in with!
        </div>

        <div id="instructions" style="display:none;">

            <p>
                These bots talk in English.
                For bots in other languages, change the language at the bottom of the page.
            </p>

            <h4>Step 1: Add the bot to your <span class="type-name"></span></h4>

            <div id="channel-steps">
                <ol>
                    <li>Open your channel in Telegram</li>
                    <li>Tap the channel name at the top to open channel info</li>
                    <li>Tap <strong>Administrators</strong></li>
                    <li>Tap <strong>Add Admin</strong></li>
                    <li>Search for <span class="mono bot-username"></span></li>
                    <li>Select the bot from the search results</li>
                    <li>Enable these permissions: <strong>Post Messages</strong></li>
                    <li>Tap the checkmark to confirm</li>
                </ol>
                <div class="p-3 mb-3 bg-warning">
                    <strong>Important:</strong> Without post message rights the bot cannot even reply to commands.
                </div>
            </div>

            <div id="group-steps">
                <ol>
                    <li>Open your group in Telegram</li>
                    <li>Tap the group name at the top to open group info</li>
                    <li>Tap <strong>Add Members</strong> (or <strong>Add</strong>)</li>
                    <li>Search for <span class="mono bot-username"></span></li>
                    <li>Select the bot from the search results to add it</li>
                </ol>
            </div>

            <h4>Step 2: Subscribe to your stream</h4>
            <p>
                Send this command in your <span class="type-name"></span> to start receiving notifications.
            </p>
            <div class="d-flex align-items-center bg-white rounded border p-2 mb-2">
                <code class="mono me-auto">/add@<span class="bot-username-bare"></span> <strong><em class="add-placeholder"></em></strong></code>
                <button class="btn btn-outline-secondary btn-sm ms-2 copy-btn" title="Copy"><i class="fas fa-copy"></i></button>
            </div>
            <p>You can remove this command after the bot is set up.</p>

            <h4>Step 3 (optional): Disable offline notifications</h4>
            <p>
                By default, the bot notifies when you go offline too. To disable offline notifications, send this command.
            </p>
            <div class="d-flex align-items-center bg-white rounded border p-2 mb-2">
                <code class="mono me-auto">/disable_offline_notifications@<span class="bot-username-bare"></span></code>
                <button class="btn btn-outline-secondary btn-sm ms-2 copy-btn" title="Copy"><i class="fas fa-copy"></i></button>
            </div>
            <p>
                You can remove this command after the bot is set up.
                To enable offline notifications again, just replace <span class="mono">disable</span> by <span class="mono">enable</span>.
            </p>

            <h4>Step 4 (optional): Disable screenshots</h4>
            <p>
                By default, the bot sends a screenshot with each notification. To disable screenshots, send this command.
            </p>
            <div class="d-flex align-items-center bg-white rounded border p-2 mb-2">
                <code class="mono me-auto">/disable_images@<span class="bot-username-bare"></span></code>
                <button class="btn btn-outline-secondary btn-sm ms-2 copy-btn" title="Copy"><i class="fas fa-copy"></i></button>
            </div>
            <p>
                You can remove this command after the bot is set up.
                To enable screenshots again, just replace <span class="mono">disable</span> by <span class="mono">enable</span>.
            </p>
        </div>
    </main>
    {{ template "footer" . }}
</div>

<script>
(function() {
    var bots = {
        "Twitch": "TwitchSirenBot",
        "Chaturbate": "ChaturbateAlarmBot",
        "Stripchat": "StripchatOnlineBot",
        "BongaCams": "BongaCamsOnlineBot",
        "LiveJasmin": "LiveJasminSirenBot",
        "CamSoda": "CamSodaSirenBot",
        "Flirt4Free": "Flirt4FreeSirenBot",
        "Streamate": "StreamateSirenBot"
    };

    var addPlaceholders = {
        "Twitch": "YOUR_TWITCH_CHANNEL",
        "Chaturbate": "YOUR_USERNAME",
        "Stripchat": "YOUR_USERNAME",
        "BongaCams": "YOUR_USERNAME",
        "LiveJasmin": "YOUR_USERNAME",
        "CamSoda": "YOUR_USERNAME",
        "Flirt4Free": "YOUR_USERNAME",
        "Streamate": "YOUR_USERNAME"
    };

    var selectedType = "channel";
    var selectedPlatform = "Twitch";

    var typeButtons = document.querySelectorAll("#type-selector .platform-btn");
    var platformButtons = document.querySelectorAll("#platform-selector .platform-btn");
    var usernameInput = document.getElementById("username-input");

    typeButtons.forEach(function(btn) {
        btn.addEventListener("click", function() {
            typeButtons.forEach(function(b) { b.classList.remove("active"); });
            btn.classList.add("active");
            selectedType = btn.getAttribute("data-type");
            update();
        });
    });

    platformButtons.forEach(function(btn) {
        btn.addEventListener("click", function() {
            platformButtons.forEach(function(b) { b.classList.remove("active"); });
            btn.classList.add("active");
            selectedPlatform = btn.getAttribute("data-platform");
            update();
        });
    });

    usernameInput.addEventListener("input", function() { update(); });

    document.querySelectorAll(".copy-btn").forEach(function(btn) {
        btn.addEventListener("click", function() {
            var text = btn.parentElement.querySelector(".mono").textContent;
            var icon = btn.querySelector("i");
            navigator.clipboard.writeText(text).then(function() {
                icon.className = "fas fa-check";
                setTimeout(function() { icon.className = "fas fa-copy"; }, 2000);
            });
        });
    });

    update();

    function update() {
        if (!selectedType || !selectedPlatform) return;

        var botUsername = bots[selectedPlatform];
        var instructions = document.getElementById("instructions");
        instructions.style.display = "";

        document.querySelectorAll(".bot-username").forEach(function(el) {
            el.textContent = "@" + botUsername;
        });
        document.querySelectorAll(".bot-username-bare").forEach(function(el) {
            el.textContent = botUsername;
        });
        document.querySelectorAll(".type-name").forEach(function(el) {
            el.textContent = selectedType;
        });
        var username = usernameInput.value.trim();
        document.querySelectorAll(".add-placeholder").forEach(function(el) {
            el.textContent = username || addPlaceholders[selectedPlatform];
        });

        var copyVisibility = username ? "visible" : "hidden";
        document.querySelectorAll(".copy-btn").forEach(function(btn) {
            btn.style.visibility = copyVisibility;
        });

        document.getElementById("channel-steps").style.display = selectedType === "channel" ? "" : "none";
        document.getElementById("group-steps").style.display = selectedType === "group" ? "" : "none";
        document.getElementById("bongacams-warning").style.display = selectedPlatform === "BongaCams" ? "" : "none";
    }
})();
</script>
</body>
</html>
